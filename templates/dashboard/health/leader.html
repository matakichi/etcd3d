{% load djng_tags %}
{% angularjs %}
<div class="card">
  <div class="card-header">
    <div class="container">
      <div class="row justify-content-between">
        <div class="col-2 d-flex align-items-center">
          Health <i class="fas" ng-class="ctrl.alarm.length == 0 ? 'fa-check-circle text-success' : 'fa-exclamation-triangle text-warning'" style="padding-left: 6px"></i>
        </div>
        <div class="col-0">
          <button class="btn btn-xs btn-secondary" ng-click="ctrl.refresh()"><i class="fas fa-sync" ng-class="{'fa-spin': ctrl.refreshing}" aria-hidden="true"></i></button>
        </div>
      </div>
    </div>
  </div>
<div class="card-body">
  <div class="row">
    <div class="col-sm-10">
      <ul class="list-group list-group-flush">
        <li class="list-group-item row d-flex"><div class="col-sm-4">Version:</div><div class="col-sm-6"><strong>{{ ctrl.healthy.health.version }}</strong></div></li>
        <li class="list-group-item row d-flex"><div class="col-sm-4">DB Size:</div><div class="col-sm-6"><strong>{{ ctrl.healthy.health.db_size }}</strong></div></li>
        <li class="list-group-item row d-flex"><div class="col-sm-4">Raft Index:</div><div class="col-sm-6"><strong>{{ ctrl.healthy.health.raft_index }}</strong></div></li>
        <li class="list-group-item row d-flex"><div class="col-sm-4">Raft Term:</div><div class="col-sm-6"><strong>{{ ctrl.healthy.health.raft_term }}</strong></div></li>
      </ul>
    </div>
  </div>
</div>
<div class="card-header">Leader</div>
<div class="card-body">
  <div class="row">
    <div class="col-sm-10">
      <ul class="list-group list-group-flush">
        <li class="list-group-item row d-flex"><div class="col-sm-4">Name:</div><div class="col-sm-6"><strong>{{ ctrl.healthy.health.leader.name }}</strong></div></li>
        <li class="list-group-item row d-flex"><div class="col-sm-4">Peer URLs:</div><div class="col-sm-6"><strong>{{ ctrl.healthy.health.leader.peer_urls }}</strong></div></li>
        <li class="list-group-item row d-flex"><div class="col-sm-4">Client URLs:</div><div class="col-sm-6"><strong>{{ ctrl.healthy.health.leader.client_urls }}</strong></div></li>
      </ul>
    </div>
  </div>
  <p class="card-text">
    etcd is a distributed key-value store that provides a reliable way to store data across a cluster of machines.
    There are basically three roles for each node. a Leader that issues an instruction, a Follower that follows it in order, and a Candidate that appears temporarily when there is no Leader.
    etcd gracefully handles leader elections during will tolerate machine failure, including the leader.
  </p>
  <a href="#" class="card-link">Settings</a>
</div>
</div>
{% endangularjs %}
